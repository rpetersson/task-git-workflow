name: Pipeline Name

on:
push:
    branches: [ branch_name ]
pull_request:
    branches: [ branch_name ]
jobs:

build:
    runs-on: ubuntu-latest
    steps:
    - name: Demo Step
      run: docker push ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:$GITHUB_RUN_NUMBER
notify:
    runs-on: ubuntu-latest
    if: always()
    needs: build
    steps:
    - name: Notify Teams
        uses: thechetantalwar/teams-notify@v2
        with:
        teams_webhook_url: ${{ secrets.TEAM_HOOK }}
        message: "Github Action Build Number ${{ github.run_number }} Completed for ${{ github.repository }} and the outcome is  ${{ needs.build.result }}."